d3.scale.category20().range()[0]="#ff2505";d3.scale.category20().range()[1]="#ff7905";d3.scale.category20().range()[2]="#ffab05";d3.scale.category20().range()[3]="#";d3.scale.category20().range()[4]="#";d3.scale.category20().range()[5]="#";d3.scale.category20().range()[6]="#";d3.scale.category20().range()[7]="#058dd9";d3.scale.category20().range()[8]="#0535d9";d3.scale.category20().range()[9]="#4905d9";d3.scale.category20().range()[10]="#c905d9";d3.scale.category20().range()[11]="#ee0550";d3.scale.category20().range()[12]="#fa1f66";var margin={top:20,right:20,bottom:30,left:40},width=960-margin.left-margin.right,height=500-margin.top-margin.bottom,x0=d3.scale.ordinal().rangeRoundBands([0,width],.1),x1=d3.scale.ordinal(),y=d3.scale.linear().range([height,0]),color=d3.scale.ordinal().range(kickdataColors),xAxis=d3.svg.axis().scale(x0).orient("bottom"),yAxis=d3.svg.axis().scale(y).orient("left").tickFormat(d3.format(".2s")),svg=d3.select("#bar_chart").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.csv("/test-content/data.csv",function(e,t){var n=d3.keys(t[0]).filter(function(e){return e!=="State"});t.forEach(function(e){e.ages=n.map(function(t){return{name:t,value:+e[t]}})});x0.domain(t.map(function(e){return e.State}));x1.domain(n).rangeRoundBands([0,x0.rangeBand()]);y.domain([0,d3.max(t,function(e){return d3.max(e.ages,function(e){return e.value})})]);svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis);svg.append("g").attr("class","y axis").call(yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Population");var r=svg.selectAll(".state").data(t).enter().append("g").attr("class","g").attr("transform",function(e){return"translate("+x0(e.State)+",0)"});r.selectAll("rect").data(function(e){return e.ages}).enter().append("rect").attr("width",x1.rangeBand()).attr("x",function(e){return x1(e.name)}).attr("y",function(e){return y(e.value)}).attr("height",function(e){return height-y(e.value)}).style("fill",function(e){return color(e.name)});var i=svg.selectAll(".legend").data(n.slice().reverse()).enter().append("g").attr("class","legend").attr("transform",function(e,t){return"translate(0,"+t*20+")"});i.append("rect").attr("x",width-18).attr("width",18).attr("height",18).style("fill",color);i.append("text").attr("x",width-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(e){return e})});